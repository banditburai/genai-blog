---
// Import necessary components and utilities
import { getCollection } from "astro:content";
import CategoryCloud from "../components/CategoryCloud.astro";
import MainLayout from "../layouts/MainLayout.astro";
import PostCard from "../components/PostCard.astro";

// Fetch the first set of posts for the initial blog page
const posts = await getCollection("posts");
const pageSize = 2; // Adjust as needed
const firstPagePosts = posts.slice(0, pageSize);
---

<!-- Styles get overwritten -->
<MainLayout>
    <section class="container" aria-label="New Blog Posts">   
        <div class="post-container">
    {
      firstPagePosts.map((post) => <PostCard post={post} />)
    }
    </div>
    <a href="/blog/2" >Next Page</a>
    </section>
  <aside class="container" aria-label="Blog categories">
    <h2>Blog Categories</h2>
    <CategoryCloud showCount={true}/>
  </aside>  
</MainLayout>
